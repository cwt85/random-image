<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>隨機圖片抽選器</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h2>隨機圖片顯示器</h2>
   <!-- 圖片外層的 Frame -->
   <!-- 外層 Frame (固定陰影、置中) -->
  <!-- 包圖片和按鈕的容器 -->
<!-- 容器：圖片和按鈕永遠垂直對齊 -->
  <div class="image-section">
    <div class="outer-frame">
      <img id="randomImage" src="photo/iloveimg-compressed/img1.jpg" alt="圖片">
    </div>
    <button id="toggleButton">開始旋轉</button>
  </div>

  <br>
  <script>
  const images = [];
  for (let i = 1; i <= 28; i++) {
    images.push(`photo/iloveimg-compressed/img${i}.jpg`);
  }

  let currentIndex = 0;
  let intervalId = null;
  let isRunning = false;

  const imgElement = document.getElementById("randomImage");
  const button = document.getElementById("toggleButton");

  // 顯示圖片，並且「只預先載入下一張」
  function showImage(index) {
    imgElement.src = images[index];

    // 預載下一張（非同步，不會卡主線程）
    const nextIndex = (index + 1) % images.length;
    const preload = new Image();
    preload.src = images[nextIndex];
  }

  button.addEventListener("click", () => {
    if (!isRunning) {
      // 開始旋轉
      isRunning = true;
      button.textContent = "停止旋轉";
      intervalId = setInterval(() => {
        currentIndex = (currentIndex + 1) % images.length;
        showImage(currentIndex);
      }, 280); // 0.28 秒換一張
    } else {
      // 停止旋轉
      isRunning = false;
      button.textContent = "開始旋轉";
      clearInterval(intervalId);
    }
  });
</script>
</body>

</html>

